<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FruitBox Business App</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white font-sans">
  <div id="app" class="max-w-md mx-auto p-4">
    <!-- Login Section -->
    <div id="loginSection">
      <h2 class="text-2xl font-bold mb-4 text-center">Login</h2>
      <input id="username" type="text" placeholder="Username" class="w-full p-2 mb-2 rounded text-black" />
      <input id="password" type="password" placeholder="Password" class="w-full p-2 mb-4 rounded text-black" />
      <button onclick="login()" class="w-full bg-green-600 p-2 rounded">Login</button>
    </div>

    <!-- Main App Section -->
    <div id="mainSection" class="hidden">
      <div class="flex justify-between mb-4">
        <h2 class="text-xl font-semibold">FruitBox Admin</h2>
        <button onclick="logout()" class="text-red-400 underline">Logout</button>
      </div>

      <!-- Tabs -->
      <div class="flex justify-around mb-4">
        <button onclick="showTab('orders')">Orders</button>
        <button onclick="showTab('inventory')">Inventory</button>
        <button onclick="showTab('customers')">Customers</button>
        <button onclick="showTab('payments')">Payments</button>
        <button onclick="showTab('dashboard')">Dashboard</button>
      </div>

      <!-- Orders Tab -->
      <div id="ordersTab" class="tab hidden">
        <h3 class="text-lg font-bold mb-2">Add Order</h3>
        <input id="orderProduct" type="text" placeholder="Product Name" class="w-full p-2 mb-2 rounded text-black" />
        <input id="orderQty" type="number" placeholder="Quantity" class="w-full p-2 mb-2 rounded text-black" />
        <input id="orderCustomer" type="text" placeholder="Customer Name" class="w-full p-2 mb-2 rounded text-black" />
        <button onclick="addOrder()" class="w-full bg-blue-600 p-2 rounded">Save Order</button>
      </div>

      <!-- Inventory Tab -->
      <div id="inventoryTab" class="tab hidden">
        <h3 class="text-lg font-bold mb-2">Update Inventory</h3>
        <input id="stockProduct" type="text" placeholder="Product Name" class="w-full p-2 mb-2 rounded text-black" />
        <input id="stockQty" type="number" placeholder="Quantity Added" class="w-full p-2 mb-2 rounded text-black" />
        <button onclick="addInventory()" class="w-full bg-yellow-600 p-2 rounded">Update Stock</button>
      </div>

      <!-- Customers Tab -->
      <div id="customersTab" class="tab hidden">
        <h3 class="text-lg font-bold mb-2">Add Customer</h3>
        <input id="custName" type="text" placeholder="Name" class="w-full p-2 mb-2 rounded text-black" />
        <input id="custPhone" type="text" placeholder="Phone Number" class="w-full p-2 mb-2 rounded text-black" />
        <input id="custAddress" type="text" placeholder="Address" class="w-full p-2 mb-2 rounded text-black" />
        <button onclick="addCustomer()" class="w-full bg-purple-600 p-2 rounded">Save Customer</button>
      </div>

      <!-- Payments Tab -->
      <div id="paymentsTab" class="tab hidden">
        <h3 class="text-lg font-bold mb-2">Add Payment</h3>
        <input id="payCustomer" type="text" placeholder="Customer Name" class="w-full p-2 mb-2 rounded text-black" />
        <input id="payAmount" type="number" placeholder="Amount Paid" class="w-full p-2 mb-2 rounded text-black" />
        <select id="payMode" class="w-full p-2 mb-2 rounded text-black">
          <option value="Cash">Cash</option>
          <option value="UPI">UPI</option>
          <option value="Card">Card</option>
        </select>
        <button onclick="addPayment()" class="w-full bg-pink-600 p-2 rounded">Record Payment</button>
      </div>

      <!-- Dashboard Tab -->
      <div id="dashboardTab" class="tab hidden">
        <h3 class="text-lg font-bold mb-4">Dashboard</h3>
        <div id="summary" class="space-y-2"></div>
      </div>
    </div>
  </div>

  <script>
    // Login System
    function login() {
      const user = document.getElementById('username').value;
      const pass = document.getElementById('password').value;
      if (user === 'admin' && pass === '1234') {
        localStorage.setItem('loggedIn', 'true');
        document.getElementById('loginSection').classList.add('hidden');
        document.getElementById('mainSection').classList.remove('hidden');
      } else {
        alert('Invalid credentials');
      }
    }
    function logout() {
      localStorage.removeItem('loggedIn');
      location.reload();
    }

    // Tabs Logic
    function showTab(tab) {
      document.querySelectorAll('.tab').forEach(t => t.classList.add('hidden'));
      document.getElementById(tab + 'Tab').classList.remove('hidden');
      if (tab === 'dashboard') updateDashboard();
    }

    // Orders
    function addOrder() {
      const product = document.getElementById('orderProduct').value;
      const qty = document.getElementById('orderQty').value;
      const customer = document.getElementById('orderCustomer').value;
      const orders = JSON.parse(localStorage.getItem('orders') || '[]');
      orders.push({ product, qty, customer, date: new Date().toLocaleDateString() });
      localStorage.setItem('orders', JSON.stringify(orders));
      alert('Order added');
    }

    // Inventory
    function addInventory() {
      const product = document.getElementById('stockProduct').value;
      const qty = parseInt(document.getElementById('stockQty').value);
      let inventory = JSON.parse(localStorage.getItem('inventory') || '{}');
      inventory[product] = (inventory[product] || 0) + qty;
      localStorage.setItem('inventory', JSON.stringify(inventory));
      alert('Inventory updated');
    }

    // Customers
    function addCustomer() {
      const name = document.getElementById('custName').value;
      const phone = document.getElementById('custPhone').value;
      const address = document.getElementById('custAddress').value;
      const customers = JSON.parse(localStorage.getItem('customers') || '[]');
      customers.push({ name, phone, address });
      localStorage.setItem('customers', JSON.stringify(customers));
      alert('Customer added');
    }

    // Payments
    function addPayment() {
      const customer = document.getElementById('payCustomer').value;
      const amount = document.getElementById('payAmount').value;
      const mode = document.getElementById('payMode').value;
      const payments = JSON.parse(localStorage.getItem('payments') || '[]');
      payments.push({ customer, amount, mode, date: new Date().toLocaleDateString() });
      localStorage.setItem('payments', JSON.stringify(payments));
      alert('Payment recorded');
    }

    // Dashboard
    function updateDashboard() {
      const orders = JSON.parse(localStorage.getItem('orders') || '[]');
      const payments = JSON.parse(localStorage.getItem('payments') || '[]');
      const inventory = JSON.parse(localStorage.getItem('inventory') || '{}');
      let totalOrders = orders.length;
      let totalQty = orders.reduce((sum, o) => sum + parseInt(o.qty), 0);
      let totalPayments = payments.reduce((sum, p) => sum + parseFloat(p.amount), 0);
      const summary = `
        <div>Total Orders: ${totalOrders}</div>
        <div>Total Quantity Sold: ${totalQty}</div>
        <div>Total Payments Received: â‚¹${totalPayments}</div>
        <div>Inventory:</div>
        <ul>
          ${Object.entries(inventory).map(([k, v]) => `<li>${k}: ${v}</li>`).join('')}
        </ul>`;
      document.getElementById('summary').innerHTML = summary;
    }

    // Auto login if already logged in
    if (localStorage.getItem('loggedIn') === 'true') {
      document.getElementById('loginSection').classList.add('hidden');
      document.getElementById('mainSection').classList.remove('hidden');
    }
  </script>
</body>
</html>
